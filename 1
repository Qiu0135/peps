import matplotlib.pyplot as plt
import numpy as np

# Data from the tables
# Current project (Table 3.5.2)
distances = [1, 3, 5, 7, 10]  # in meters
response_times_current = [0.19, 0.29, 0.33, 0.51, 0.77]  # in seconds
spl_values = [99.01, 89.47, 85.03, 82.11, 79.01]  # in dB

# Previous project (Table 2.3)
tests_previous = [1, 2, 3, 4, 5]  # Test numbers
response_times_previous = [1.1, 1.22, 1.23, 1.28, 1.19]  # in seconds
average_response_time_previous = 1.20  # Average response time

# Plotting
fig, ax1 = plt.subplots(figsize=(10, 6))

# Plot Response Times for Current Project
color1 = 'tab:blue'
ax1.set_xlabel('Distance / Test Points')
ax1.set_ylabel('Response Time (s)', color=color1)
ax1.plot(distances, response_times_current, label='Current Project (Response Time)', color=color1, marker='o', linestyle='-')
ax1.tick_params(axis='y', labelcolor=color1)
ax1.legend(loc="upper left")

# Add Previous Project Response Times (as horizontal line for average and markers)
ax1.hlines(y=average_response_time_previous, xmin=min(distances), xmax=max(distances),
           colors='tab:orange', label='Previous Project (Avg Response Time)', linestyles='dashed')
ax1.scatter(tests_previous, response_times_previous, label='Previous Project (Individual Tests)', color='tab:orange', marker='x')
ax1.legend(loc="upper left")

# Second y-axis for SPL values of Current Project
ax2 = ax1.twinx()
color2 = 'tab:green'
ax2.set_ylabel('Sound Pressure Level (dB)', color=color2)
ax2.plot(distances, spl_values, label='Current Project (SPL)', color=color2, marker='s', linestyle='--')
ax2.tick_params(axis='y', labelcolor=color2)
ax2.legend(loc="upper right")

# Title and grid
plt.title('Comparison of Response Times and SPL Between Previous and Current Projects')
plt.grid(alpha=0.4)

plt.tight_layout()
plt.show()
